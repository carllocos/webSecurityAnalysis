<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>I am dangerous</title>

    <style>
        #content {
            background-color: powderblue;
        }
    </style>
</head>

<body id="content">

    <h3>Suggestion service</h3>
    <h5 id="h">What about title?</h5>
    <p id="sug"></p>
    <br>
    <p id="leak"></p>
    <script type="text/javascript">
        var suggestions = ["XSS strikes again!", "Sandboxing - keep the kids safe - story of a worried host", "Oh no. I forgot to escape"];
        var idx = 0;

        function suggest(attempts) {
            if (typeof attempts === 'object') {
                document.getElementById('leak').innerHTML = "got your title! " + attempts.title
            }

            document.getElementById("h").innerHTML = "What about title? " + "(#"+ attempts + " attempt)";
            var sug = suggestions[idx % suggestions.length]
            document.getElementById('sug').innerHTML = sug
            idx += 1;
        }

        titleListener(suggest)

    </script>
</body>

</html>