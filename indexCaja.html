<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Web Mashup Security Analysis</title>

    <!-- Load required caja module-->
    <script type="text/javascript" src="http://caja.appspot.com/caja.js">
    </script>

  </head>
  <body>
    <div class="">
      <h1>JSFlow Security Analysis</h1>
      <form class="" action="index.html" method="post">
        <label for="passwordInpJSFlow">Password</label>
        <input id="passwordInpJSFlow" type="text" name="" value="">
        <small id="helperJSFlow"></<small>
      </form>
    </div>


  <div class="">
    <h1>Caja Security Analysis</h1>
    <form class="" action="index.html" method="post">
      <label for="passwordInpCaja">Password</label>
      <input type="text" id="passwordInpCaja" name="" value="">
      <small id="helperCaja"></<small>
    </form>
  </div>


    <script type="text/javascript">

    var sensitiveContent = {
      password: 'c0mpl√©X!PsW'
    }


    //Supported by most browsers. Not IE8:
    document.addEventListener("DOMContentLoaded", function(event) {
      document.getElementById('passwordInpJSFlow').value = sensitiveContent.password
      document.getElementById('passwordInpCaja').value = sensitiveContent.password
    });

    </script>


    <script type="text/javascript">

      caja.whenReady(function (ev) {
          console.log("Ready!")
      })
      caja.initialize({
          debug: true
      })

      caja.load(undefined, undefined, function (frame) {

        caja.markFunction(alertGreeting);

        frame.code("passwordCaja.js", 'application/javascript')
              .api({
                coordinates: caja.tame(sensitiveContent)
              })
              .run();
      })


    </script>
  </body>
</html>
